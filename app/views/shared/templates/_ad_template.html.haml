- slot_data = vo.dataset.try(:first) || Metadata.get_default_ad_slot
- if slot_data.present?
  - case slot_data['data'][:width]
    - when "728px"
      - ad_class = "ad_728"
      - panel_id = "adspace"
      - panel_class = ""
    - when "468px"
      - panel_id = ""
      - panel_class = "panel_2"
      - ad_class = "ad_468"
    - when "160px"
      - panel_id = ""
      - panel_class = "panel_1"
      - ad_class = "ad_160"
    - when "200px"
      - panel_id = ""
      - panel_class = "panel_1"
      - ad_class = "ad_200"
    - when "250px"
      - panel_id = ""
      - panel_class = "panel_1"
      - ad_class = "ad_250"
    - when "300px"
      - panel_id = ""
      - panel_class = "panel_1"
      - ad_class = "ad_300"
    - when "336px"
      - panel_id = ""
      - panel_class = "panel_1"
      - ad_class = "ad_336"
  %div{:class => "#{panel_class} #{defined?(widget_page) ? widget_page.css_class : ''}",:id => panel_id}
    %div{:class => ad_class}
      - if get_setting('platform','ads').try(:value)
        - case get_setting('platform','ads').try(:value)
          - when "openx"
            %iframe{:src => base_url(openx_ads_home_path(:slot_name => slot_data['data'][:name],:canvas => false)), :frameborder => 0, :scrolling => "no", :style => " background-color: #fff; width: #{slot_data['data'][:width]}; height: #{slot_data['data'][:height]};"}
          - when "helios_alt4" 
            -# boston
            %iframe{:src => base_url(helios_alt4_ads_home_path(:slot_name => slot_data['data'][:name],:canvas => false)), :frameborder => 0, :scrolling => "no", :style => " background-color: #fff; width: #{slot_data['data'][:width]}; height: #{slot_data['data'][:height]};"}          
          - when "google"
            %iframe{:src => base_url(google_ads_home_path(:slot_name => slot_data['data'][:name],:canvas => false)), :frameborder => 0, :scrolling => "no", :style => " background-color: #fff; width: #{slot_data['data'][:width]}; height: #{slot_data['data'][:height]};"}
          -# when "helios_alt2" 
            -# kpcc
            %iframe{:src => base_url(helios_alt2_ads_home_path(:slot_name => slot_data['data'][:name],:canvas => false)), :frameborder => 0, :scrolling => "no", :style => " background-color: #fff; width: #{slot_data['data'][:width]}; height: #{slot_data['data'][:height]};"}          
          -# when "helios"
            -# freep
            %iframe{:src => base_url(helios_ads_home_path(:slot_name => slot_data['data'][:name],:canvas => false)), :frameborder => 0, :scrolling => "no", :style => " background-color: #fff; width: #{slot_data['data'][:width]}; height: #{slot_data['data'][:height]};"}
          -# when "helios_alt3" 
            -# wkyc
            %iframe{:src => base_url(helios_alt3_ads_home_path(:slot_name => slot_data['data'][:name],:canvas => false)), :frameborder => 0, :scrolling => "no", :style => " background-color: #fff; width: #{slot_data['data'][:width]}; height: #{slot_data['data'][:height]};"}          
      - else                  
        %iframe{:src => base_url(google_ads_home_path(:slot_name => slot_data['data'][:name],:canvas => false)), :frameborder => 0, :scrolling => "no", :style => " background-color: #fff; width: #{slot_data['data'][:width]}; height: #{slot_data['data'][:height]};"}
