-# @expects: local 'newest_answers'

- cache :newest_answers_html do
  - newest_answers ||= Answer.active.newest 5
  - unless newest_answers.empty?
    %div{:class => "panel_2 #{defined?(widget_page) ? widget_page.css_class : ''}"}
      .panelBar
        %h2= t('answers.newest_title')
      .list_items
        %ul
          - newest_answers.each do |answer|
            %li
              .itemBlock
                %h4= link_to caption(answer.answer,120), question_path(answer.question)
                .profilePic= local_linked_profile_pic answer.user
                .itemMeta
                  %h3= t('asked_by', :fb_name => local_linked_profile_name(answer.user), :date => time_ago_in_words(answer.created_at))
                  %span.btnComment== #{like_link answer} #{answer.votes_tally}
                  %span.btnComment== #{link_to answer_comments_translate(answer.comments_count), answer_path(answer, :anchor => "commentListTop")}